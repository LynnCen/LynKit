---
title: usePrevious
description: 获取上一次渲染时的值
---

# usePrevious

获取上一次渲染时的值。

## 使用场景

- 对比前后值变化
- 条件触发副作用
- 追踪状态历史

## 代码演示

### 基础用法

通过 `usePrevious` 获取上一次渲染时的值。

```tsx preview
import { usePrevious } from '@lynkit/hooks';
import { useState } from 'react';

export default () => {
  const [count, setCount] = useState(0);
  const previous = usePrevious(count);
  
  return (
    <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>
      <div style={{ padding: '12px', background: '#f5f5f5', borderRadius: '4px' }}>
        <div>当前值: <strong>{count}</strong></div>
        <div>上一次值: <strong>{previous ?? '(无)'}</strong></div>
      </div>
      <div style={{ display: 'flex', gap: '8px' }}>
        <button onClick={() => setCount(count + 1)}>增加</button>
        <button onClick={() => setCount(count - 1)}>减少</button>
        <button onClick={() => setCount(0)}>重置</button>
      </div>
    </div>
  );
};
```

## API

```typescript pure
const previousValue = usePrevious<T>(value: T)
```

### 参数

| 参数 | 说明 | 类型 |
|------|------|------|
| value | 需要记录的值 | `T` |

### 返回值

| 返回值 | 说明 | 类型 |
|--------|------|------|
| previousValue | 上一次的值 | `T \| undefined` |

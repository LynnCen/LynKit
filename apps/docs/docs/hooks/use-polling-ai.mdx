---
title: usePollingAI
description: AI 轮询请求 Hook，用于处理流式响应
---

# usePollingAI

AI 轮询请求 Hook，用于处理流式响应。

## 使用场景

- AI 对话轮询
- 长任务状态查询
- 流式数据获取

## 代码演示

### 基础用法

```tsx pure
import { usePollingAI } from '@lynkit/hooks';

export default () => {
  const { data, loading, start, stop } = usePollingAI({
    request: async () => {
      // 请求 AI 接口
      const response = await fetch('/api/ai/chat');
      return response.json();
    },
    interval: 1000,
  });
  
  return (
    <div>
      <p>{loading ? '加载中...' : data}</p>
      <button onClick={start}>开始</button>
      <button onClick={stop}>停止</button>
    </div>
  );
};
```

## API

```typescript pure
const result = usePollingAI(options: PollingOptions)
```

### Options

| 参数 | 说明 | 类型 | 默认值 |
|------|------|------|--------|
| request | 请求函数 | `() => Promise<T>` | - |
| interval | 轮询间隔（毫秒） | `number` | `1000` |
| immediate | 是否立即执行 | `boolean` | `false` |

### Result

| 返回值 | 说明 | 类型 |
|--------|------|------|
| data | 响应数据 | `T` |
| loading | 加载状态 | `boolean` |
| start | 开始轮询 | `() => void` |
| stop | 停止轮询 | `() => void` |

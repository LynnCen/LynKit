"use strict";(self.webpackChunk_lynkit_docs=self.webpackChunk_lynkit_docs||[]).push([["143"],{8392:function(e,n,d){d.r(n),d.d(n,{default:()=>l});var s=d(4732),i=d(6603);function r(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",h3:"h3",pre:"pre",code:"code",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,i.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"usepollingai",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usepollingai",children:"#"}),"usePollingAI"]}),"\n",(0,s.jsx)(n.p,{children:"AI 轮询请求 Hook，用于处理流式响应。"}),"\n",(0,s.jsxs)(n.h2,{id:"使用场景",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用场景",children:"#"}),"使用场景"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"AI 对话轮询"}),"\n",(0,s.jsx)(n.li,{children:"长任务状态查询"}),"\n",(0,s.jsx)(n.li,{children:"流式数据获取"}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"代码演示",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#代码演示",children:"#"}),"代码演示"]}),"\n",(0,s.jsxs)(n.h3,{id:"基础用法",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#基础用法",children:"#"}),"基础用法"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",meta:"pure",children:"import { usePollingAI } from '@lynkit/hooks';\n\nexport default () => {\n  const { data, loading, start, stop } = usePollingAI({\n    request: async () => {\n      // 请求 AI 接口\n      const response = await fetch('/api/ai/chat');\n      return response.json();\n    },\n    interval: 1000,\n  });\n  \n  return (\n    <div>\n      <p>{loading ? '加载中...' : data}</p>\n      <button onClick={start}>开始</button>\n      <button onClick={stop}>停止</button>\n    </div>\n  );\n};\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"api",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#api",children:"#"}),"API"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",meta:"pure",children:"const result = usePollingAI(options: PollingOptions)\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"options",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#options",children:"#"}),"Options"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"参数"}),(0,s.jsx)(n.th,{children:"说明"}),(0,s.jsx)(n.th,{children:"类型"}),(0,s.jsx)(n.th,{children:"默认值"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"request"}),(0,s.jsx)(n.td,{children:"请求函数"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"() => Promise<T>"})}),(0,s.jsx)(n.td,{children:"-"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"interval"}),(0,s.jsx)(n.td,{children:"轮询间隔（毫秒）"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"1000"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"immediate"}),(0,s.jsx)(n.td,{children:"是否立即执行"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"boolean"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"false"})})]})]})]}),"\n",(0,s.jsxs)(n.h3,{id:"result",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#result",children:"#"}),"Result"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"返回值"}),(0,s.jsx)(n.th,{children:"说明"}),(0,s.jsx)(n.th,{children:"类型"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"data"}),(0,s.jsx)(n.td,{children:"响应数据"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"T"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"loading"}),(0,s.jsx)(n.td,{children:"加载状态"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"boolean"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"start"}),(0,s.jsx)(n.td,{children:"开始轮询"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"() => void"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"stop"}),(0,s.jsx)(n.td,{children:"停止轮询"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"() => void"})})]})]})]})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(r,e)})):r(e)}let l=t;t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["hooks%2Fuse-polling-ai.mdx"]={toc:[{id:"使用场景",text:"使用场景",depth:2},{id:"代码演示",text:"代码演示",depth:2},{id:"基础用法",text:"基础用法",depth:3},{id:"api",text:"API",depth:2},{id:"options",text:"Options",depth:3},{id:"result",text:"Result",depth:3}],title:"usePollingAI",headingTitle:"usePollingAI",frontmatter:{title:"usePollingAI",description:"AI 轮询请求 Hook，用于处理流式响应"}}}}]);
"use strict";(self.webpackChunk_lynkit_docs=self.webpackChunk_lynkit_docs||[]).push([["79"],{22:function(e,n,s){s.r(n),s.d(n,{default:()=>o});var r=s(4732),i=s(6603),d=s(4977);let t=(e,n)=>!Object.is(e,n),l=()=>{let[e,n]=(0,d.useState)(0),s=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,s=(0,d.useRef)(void 0),r=(0,d.useRef)(void 0);return n(r.current,e)&&(s.current=r.current,r.current=e),s.current}(e);return(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,r.jsxs)("div",{style:{padding:"12px",background:"#f5f5f5",borderRadius:"4px"},children:[(0,r.jsxs)("div",{children:["当前值: ",(0,r.jsx)("strong",{children:e})]}),(0,r.jsxs)("div",{children:["上一次值: ",(0,r.jsx)("strong",{children:s??"(无)"})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,r.jsx)("button",{onClick:()=>n(e+1),children:"增加"}),(0,r.jsx)("button",{onClick:()=>n(e-1),children:"减少"}),(0,r.jsx)("button",{onClick:()=>n(0),children:"重置"})]})]})};var h=s(963);function c(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",h3:"h3",code:"code",pre:"pre",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,i.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"useprevious",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#useprevious",children:"#"}),"usePrevious"]}),"\n",(0,r.jsx)(n.p,{children:"获取上一次渲染时的值。"}),"\n",(0,r.jsxs)(n.h2,{id:"使用场景",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用场景",children:"#"}),"使用场景"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"对比前后值变化"}),"\n",(0,r.jsx)(n.li,{children:"条件触发副作用"}),"\n",(0,r.jsx)(n.li,{children:"追踪状态历史"}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"代码演示",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#代码演示",children:"#"}),"代码演示"]}),"\n",(0,r.jsxs)(n.h3,{id:"基础用法",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#基础用法",children:"#"}),"基础用法"]}),"\n",(0,r.jsxs)(n.p,{children:["通过 ",(0,r.jsx)(n.code,{children:"usePrevious"})," 获取上一次渲染时的值。"]}),"\n",(0,r.jsxs)(h.Z,{isMobile:"false",demoId:"_hooks_use_previous_1",children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",meta:"preview",children:"import { usePrevious } from '@lynkit/hooks';\nimport { useState } from 'react';\n\nexport default () => {\n  const [count, setCount] = useState(0);\n  const previous = usePrevious(count);\n  \n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n      <div style={{ padding: '12px', background: '#f5f5f5', borderRadius: '4px' }}>\n        <div>当前值: <strong>{count}</strong></div>\n        <div>上一次值: <strong>{previous ?? '(无)'}</strong></div>\n      </div>\n      <div style={{ display: 'flex', gap: '8px' }}>\n        <button onClick={() => setCount(count + 1)}>增加</button>\n        <button onClick={() => setCount(count - 1)}>减少</button>\n        <button onClick={() => setCount(0)}>重置</button>\n      </div>\n    </div>\n  );\n};\n"})}),(0,r.jsx)(l,{})]}),"\n",(0,r.jsxs)(n.h2,{id:"api",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#api",children:"#"}),"API"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",meta:"pure",children:"const previousValue = usePrevious<T>(value: T)\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"参数",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#参数",children:"#"}),"参数"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"参数"}),(0,r.jsx)(n.th,{children:"说明"}),(0,r.jsx)(n.th,{children:"类型"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"value"}),(0,r.jsx)(n.td,{children:"需要记录的值"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"T"})})]})})]}),"\n",(0,r.jsxs)(n.h3,{id:"返回值",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#返回值",children:"#"}),"返回值"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"返回值"}),(0,r.jsx)(n.th,{children:"说明"}),(0,r.jsx)(n.th,{children:"类型"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"previousValue"}),(0,r.jsx)(n.td,{children:"上一次的值"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"T | undefined"})})]})})]})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(c,e)})):c(e)}let o=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["hooks%2Fuse-previous.mdx"]={toc:[{id:"使用场景",text:"使用场景",depth:2},{id:"代码演示",text:"代码演示",depth:2},{id:"基础用法",text:"基础用法",depth:3},{id:"api",text:"API",depth:2},{id:"参数",text:"参数",depth:3},{id:"返回值",text:"返回值",depth:3}],title:"usePrevious",headingTitle:"usePrevious",frontmatter:{title:"usePrevious",description:"获取上一次渲染时的值"}}}}]);
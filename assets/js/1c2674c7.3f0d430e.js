"use strict";(self.webpackChunk_lynkit_docs=self.webpackChunk_lynkit_docs||[]).push([[108],{1914:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>o,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"hooks/useSetState","title":"useSetState","description":"\u7b80\u4ecb","source":"@site/docs/hooks/useSetState.md","sourceDirName":"hooks","slug":"/hooks/useSetState","permalink":"/docs/hooks/useSetState","draft":false,"unlisted":false,"editUrl":"https://github.com/your-org/lynkit/edit/main/docs/docs/hooks/useSetState.md","tags":[],"version":"current","lastUpdatedBy":"caizhongling","lastUpdatedAt":1744362130000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"hooks","previous":{"title":"\u4ecb\u7ecd","permalink":"/docs/hooks/"},"next":{"title":"usePrevious","permalink":"/docs/hooks/usePrevious"}}');var i=t(7557),d=t(6039);const l={sidebar_position:2},r="useSetState",a={},c=[{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:2},{value:"\u4f7f\u7528\u573a\u666f",id:"\u4f7f\u7528\u573a\u666f",level:2},{value:"\u4f7f\u7528\u793a\u4f8b",id:"\u4f7f\u7528\u793a\u4f8b",level:2},{value:"\u57fa\u672c\u7528\u6cd5",id:"\u57fa\u672c\u7528\u6cd5",level:3},{value:"\u4f7f\u7528\u56de\u8c03\u51fd\u6570",id:"\u4f7f\u7528\u56de\u8c03\u51fd\u6570",level:3},{value:"\u4f7f\u7528\u51fd\u6570\u5f0f\u66f4\u65b0",id:"\u4f7f\u7528\u51fd\u6570\u5f0f\u66f4\u65b0",level:3},{value:"API \u5c5e\u6027",id:"api-\u5c5e\u6027",level:2},{value:"\u53c2\u6570",id:"\u53c2\u6570",level:3},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c",level:3},{value:"setState \u51fd\u6570",id:"setstate-\u51fd\u6570",level:3},{value:"\u6ce8\u610f\u4e8b\u9879",id:"\u6ce8\u610f\u4e8b\u9879",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"usesetstate",children:"useSetState"})}),"\n",(0,i.jsx)(n.h2,{id:"\u7b80\u4ecb",children:"\u7b80\u4ecb"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"useSetState"})," \u662f\u4e00\u4e2a\u6a21\u62df\u7c7b\u7ec4\u4ef6\u7684 ",(0,i.jsx)(n.code,{children:"setState"})," \u65b9\u6cd5\u7684\u81ea\u5b9a\u4e49 Hook\u3002\u5b83\u5141\u8bb8\u60a8\u4f7f\u7528\u5bf9\u8c61\u5408\u5e76\u7684\u65b9\u5f0f\u66f4\u65b0\u72b6\u6001\uff0c\u5e76\u4e14\u652f\u6301\u56de\u8c03\u51fd\u6570\u5728\u72b6\u6001\u66f4\u65b0\u540e\u6267\u884c\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"\u4f7f\u7528\u573a\u666f",children:"\u4f7f\u7528\u573a\u666f"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4ece\u7c7b\u7ec4\u4ef6\u8fc1\u79fb\u5230\u51fd\u6570\u7ec4\u4ef6\u65f6\uff0c\u4fdd\u6301\u539f\u6709\u7684 setState \u4f7f\u7528\u4e60\u60ef"}),"\n",(0,i.jsx)(n.li,{children:"\u7ba1\u7406\u590d\u6742\u7684\u5bf9\u8c61\u72b6\u6001"}),"\n",(0,i.jsx)(n.li,{children:"\u9700\u8981\u90e8\u5206\u66f4\u65b0\u5bf9\u8c61\u72b6\u6001\u800c\u4e0d\u5f71\u54cd\u5176\u4ed6\u5c5e\u6027"}),"\n",(0,i.jsx)(n.li,{children:"\u72b6\u6001\u66f4\u65b0\u540e\u9700\u8981\u6267\u884c\u56de\u8c03\u51fd\u6570"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u4f7f\u7528\u793a\u4f8b",children:"\u4f7f\u7528\u793a\u4f8b"}),"\n",(0,i.jsx)(n.h3,{id:"\u57fa\u672c\u7528\u6cd5",children:"\u57fa\u672c\u7528\u6cd5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"import { useSetState } from '@lynkit/hooks';\n\nfunction UserProfile() {\n  const [state, setState] = useSetState({\n    name: 'John',\n    age: 25,\n    address: {\n      city: 'Beijing',\n      zipCode: '100000'\n    }\n  });\n\n  const updateName = () => {\n    // \u53ea\u66f4\u65b0 name \u5c5e\u6027\uff0c\u4e0d\u5f71\u54cd\u5176\u4ed6\u5c5e\u6027\n    setState({ name: 'Mike' });\n  };\n\n  const updateAddress = () => {\n    // \u53ea\u66f4\u65b0 address \u5bf9\u8c61\u7684 city \u5c5e\u6027\n    setState({\n      address: {\n        ...state.address,\n        city: 'Shanghai'\n      }\n    });\n  };\n\n  return (\n    <div>\n      <p>Name: {state.name}</p>\n      <p>Age: {state.age}</p>\n      <p>City: {state.address.city}</p>\n      <p>Zip Code: {state.address.zipCode}</p>\n      <button onClick={updateName}>Update Name</button>\n      <button onClick={updateAddress}>Update City</button>\n    </div>\n  );\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u4f7f\u7528\u56de\u8c03\u51fd\u6570",children:"\u4f7f\u7528\u56de\u8c03\u51fd\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"import { useSetState } from '@lynkit/hooks';\n\nfunction Counter() {\n  const [state, setState] = useSetState({\n    count: 0,\n    lastUpdate: null\n  });\n\n  const increment = () => {\n    setState({ count: state.count + 1 }, () => {\n      console.log('Count updated to:', state.count + 1);\n    });\n  };\n\n  const updateWithTimestamp = () => {\n    setState({ lastUpdate: new Date().toISOString() }, () => {\n      console.log('Timestamp updated');\n    });\n  };\n\n  return (\n    <div>\n      <p>Count: {state.count}</p>\n      <p>Last Update: {state.lastUpdate || 'Never'}</p>\n      <button onClick={increment}>Increment</button>\n      <button onClick={updateWithTimestamp}>Update Timestamp</button>\n    </div>\n  );\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u4f7f\u7528\u51fd\u6570\u5f0f\u66f4\u65b0",children:"\u4f7f\u7528\u51fd\u6570\u5f0f\u66f4\u65b0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:'import { useSetState } from \'@lynkit/hooks\';\n\nfunction TemperatureConverter() {\n  const [state, setState] = useSetState({\n    celsius: 0,\n    fahrenheit: 32\n  });\n\n  const updateCelsius = (event) => {\n    const celsius = Number(event.target.value);\n    setState((prevState) => ({\n      celsius,\n      fahrenheit: (celsius * 9/5) + 32\n    }));\n  };\n\n  const updateFahrenheit = (event) => {\n    const fahrenheit = Number(event.target.value);\n    setState((prevState) => ({\n      fahrenheit,\n      celsius: (fahrenheit - 32) * 5/9\n    }));\n  };\n\n  return (\n    <div>\n      <div>\n        <label>\n          Celsius:\n          <input\n            type="number"\n            value={state.celsius}\n            onChange={updateCelsius}\n          />\n        </label>\n      </div>\n      <div>\n        <label>\n          Fahrenheit:\n          <input\n            type="number"\n            value={state.fahrenheit}\n            onChange={updateFahrenheit}\n          />\n        </label>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"api-\u5c5e\u6027",children:"API \u5c5e\u6027"}),"\n",(0,i.jsx)(n.h3,{id:"\u53c2\u6570",children:"\u53c2\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"const [state, setState] = useSetState(initialState);\n"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u53c2\u6570"}),(0,i.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,i.jsx)(n.th,{children:"\u9ed8\u8ba4\u503c"}),(0,i.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"initialState"})}),(0,i.jsx)(n.td,{children:"Object"}),(0,i.jsx)(n.td,{children:"\u5fc5\u586b"}),(0,i.jsx)(n.td,{children:"\u521d\u59cb\u72b6\u6001\u5bf9\u8c61"})]})})]}),"\n",(0,i.jsx)(n.h3,{id:"\u8fd4\u56de\u503c",children:"\u8fd4\u56de\u503c"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u8fd4\u56de\u503c"}),(0,i.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,i.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"state"})}),(0,i.jsx)(n.td,{children:"Object"}),(0,i.jsx)(n.td,{children:"\u5f53\u524d\u72b6\u6001\u5bf9\u8c61"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"setState"})}),(0,i.jsx)(n.td,{children:"Function"}),(0,i.jsx)(n.td,{children:"\u66f4\u65b0\u72b6\u6001\u7684\u51fd\u6570"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"setstate-\u51fd\u6570",children:"setState \u51fd\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"setState(partialState, callback);\n"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u53c2\u6570"}),(0,i.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,i.jsx)(n.th,{children:"\u9ed8\u8ba4\u503c"}),(0,i.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"partialState"})}),(0,i.jsx)(n.td,{children:"Object | Function"}),(0,i.jsx)(n.td,{children:"\u5fc5\u586b"}),(0,i.jsx)(n.td,{children:"\u8981\u66f4\u65b0\u7684\u90e8\u5206\u72b6\u6001\u6216\u8fd4\u56de\u65b0\u72b6\u6001\u7684\u51fd\u6570"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"callback"})}),(0,i.jsx)(n.td,{children:"Function"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"\u72b6\u6001\u66f4\u65b0\u540e\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"\u6ce8\u610f\u4e8b\u9879",children:"\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u53ea\u9002\u7528\u4e8e\u5bf9\u8c61\u7c7b\u578b\u7684\u72b6\u6001"}),"\uff1a",(0,i.jsx)(n.code,{children:"useSetState"})," \u53ea\u9002\u7528\u4e8e\u5bf9\u8c61\u7c7b\u578b\u7684\u72b6\u6001\uff0c\u4e0d\u9002\u7528\u4e8e\u539f\u59cb\u7c7b\u578b\u6216\u6570\u7ec4\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u6d45\u5408\u5e76"}),"\uff1a\u4e0e\u7c7b\u7ec4\u4ef6\u7684 ",(0,i.jsx)(n.code,{children:"setState"})," \u7c7b\u4f3c\uff0c",(0,i.jsx)(n.code,{children:"useSetState"})," \u53ea\u4f1a\u5728\u9876\u5c42\u8fdb\u884c\u6d45\u5408\u5e76\u3002\u5982\u679c\u9700\u8981\u66f4\u65b0\u5d4c\u5957\u5c5e\u6027\uff0c\u9700\u8981\u624b\u52a8\u5c55\u5f00\u5bf9\u8c61\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u72b6\u6001\u4e0d\u53ef\u53d8\u6027"}),"\uff1a\u867d\u7136 API \u8bbe\u8ba1\u7c7b\u4f3c\u4e8e\u7c7b\u7ec4\u4ef6\u7684 ",(0,i.jsx)(n.code,{children:"setState"}),"\uff0c\u4f46\u4ecd\u7136\u9700\u8981\u9075\u5faa React \u7684\u72b6\u6001\u4e0d\u53ef\u53d8\u6027\u539f\u5219\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u56de\u8c03\u6267\u884c\u65f6\u673a"}),"\uff1a\u56de\u8c03\u51fd\u6570\u4f1a\u5728\u72b6\u6001\u66f4\u65b0\u5b8c\u6210\u5e76\u91cd\u65b0\u6e32\u67d3\u540e\u6267\u884c\uff0c\u7c7b\u4f3c\u4e8e\u7c7b\u7ec4\u4ef6\u4e2d\u7684 ",(0,i.jsx)(n.code,{children:"setState"})," \u56de\u8c03\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u51fd\u6570\u5f0f\u66f4\u65b0"}),"\uff1a\u5f53\u4f9d\u8d56\u4e8e\u4e4b\u524d\u7684\u72b6\u6001\u8ba1\u7b97\u65b0\u72b6\u6001\u65f6\uff0c\u5efa\u8bae\u4f7f\u7528\u51fd\u6570\u5f0f\u66f4\u65b0\u5f62\u5f0f\uff0c\u786e\u4fdd\u4f7f\u7528\u6700\u65b0\u7684\u72b6\u6001\u503c\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u6027\u80fd\u4f18\u5316"}),"\uff1a\u5f53\u72b6\u6001\u5bf9\u8c61\u5f88\u5927\u65f6\uff0c\u53ea\u66f4\u65b0\u9700\u8981\u66f4\u6539\u7684\u90e8\u5206\u53ef\u4ee5\u63d0\u9ad8\u6027\u80fd\u3002"]}),"\n"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},6039:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>r});var s=t(8225);const i={},d=s.createContext(i);function l(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);